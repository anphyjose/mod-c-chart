{"ast":null,"code":"import _asyncToGenerator from \"D:/aitrich_project/mod-c-managemnt/mod-c-public/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/login.service\";\nimport * as i4 from \"@angular/common\";\n\nfunction CompanyLoginComponent_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1, \" *Email id is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CompanyLoginComponent_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1, \" *password is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class CompanyLoginComponent {\n  constructor(formBuilder, router, loginser) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.loginser = loginser;\n  }\n\n  ngOnInit() {\n    this.personalDetails = this.formBuilder.group({\n      username: ['', Validators.required],\n      email: ['', Validators.required, Validators.email],\n      password: ['', Validators.required]\n    });\n  } // login(){\n  //   console.log(this.personalDetails.value);\n  //   this.router.navigate([\"dashboard\"]);\n  // }\n\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const loginUser = _this.personalDetails.value; // const loginUser : any = this.personalDetails.value;\n\n      console.log(_this.personalDetails.value.username);\n      yield _this.loginser.login(_this.personalDetails.value.username, _this.personalDetails.value.password).subscribe(response => {\n        console.log(response.access_token);\n        const user_name = _this.personalDetails.value.username;\n        const token = response.access_token;\n        localStorage.setItem('token', token);\n        localStorage.setItem('username', user_name); // alert(\"login Successfully.\")\n        // this.router.navigate([\"public/login\"]);\n        // this.router.navigate(['private/dashboard'])\n      });\n    })();\n  }\n\n}\n\nCompanyLoginComponent.ɵfac = function CompanyLoginComponent_Factory(t) {\n  return new (t || CompanyLoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.LoginService));\n};\n\nCompanyLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CompanyLoginComponent,\n  selectors: [[\"app-company-login\"]],\n  decls: 27,\n  vars: 2,\n  consts: [[2, \"background\", \"linear-gradient(to bottom right, #1B4F6C, #9DE2F2)\"], [1, \"container\", \"py-5\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col\", \"col-xl-10\"], [1, \"card\", 2, \"border-radius\", \"1rem\"], [1, \"row\", \"g-0\"], [1, \"col-md-6\", \"col-lg-5\", \"py-5\"], [\"src\", \"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp\", \"alt\", \"login form\", 1, \"img-fluid\", \"py-5\", 2, \"border-radius\", \"1rem 0 0 1rem\"], [1, \"col-md-6\", \"col-lg-7\", \"d-flex\", \"align-items-center\"], [1, \"card-body\", \"p-4\", \"p-lg-5\", \"text-black\"], [1, \"d-flex\", \"align-items-center\", \"mb-3\", \"pb-1\"], [1, \"h1\", \"fw-bold\", \"mb-0\"], [\"type\", \"text\", \"formControlName\", \"email\", \"name\", \"email\", \"placeholder\", \"Email\", 1, \"form-control\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"password\", \"name\", \"phone\", \"placeholder\", \"password\", 1, \"form-control\"], [1, \"pt-1\", \"mb-4\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-lg\", \"btn-block\", 3, \"click\"], [1, \"mb-5\", \"pb-lg-2\", 2, \"color\", \"#393f81\"], [\"routerLink\", \"/signup\"], [1, \"text-danger\"]],\n  template: function CompanyLoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6);\n      i0.ɵɵelement(7, \"img\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 8)(9, \"div\", 9)(10, \"form\")(11, \"div\", 10)(12, \"span\", 11);\n      i0.ɵɵtext(13, \"MOD-C-Management\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(14, \"input\", 12);\n      i0.ɵɵtemplate(15, CompanyLoginComponent_span_15_Template, 2, 0, \"span\", 13);\n      i0.ɵɵelement(16, \"br\")(17, \"input\", 14);\n      i0.ɵɵtemplate(18, CompanyLoginComponent_span_18_Template, 2, 0, \"span\", 13);\n      i0.ɵɵelement(19, \"br\");\n      i0.ɵɵelementStart(20, \"div\", 15)(21, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function CompanyLoginComponent_Template_button_click_21_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵtext(22, \"Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(23, \"p\", 17);\n      i0.ɵɵtext(24, \"Don't have an account? \");\n      i0.ɵɵelementStart(25, \"a\", 18);\n      i0.ɵɵtext(26, \" Register here\");\n      i0.ɵɵelementEnd()()()()()()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngIf\", ctx.personalDetails.controls[\"email\"].touched && ctx.personalDetails.hasError(\"required\", \"email\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.personalDetails.controls[\"password\"].touched && ctx.personalDetails.hasError(\"required\", \"password\"));\n    }\n  },\n  dependencies: [i4.NgIf, i2.RouterLinkWithHref, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb21wYW55LWxvZ2luLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"mappings":";AACA,SAAiCA,UAAjC,QAAmD,gBAAnD;;;;;;;;;ICiCoCC;IAEIA;IACJA;;;;;;IAIAA;IAEIA;IACJA;;;;ADjCpC,OAAM,MAAOC,qBAAP,CAA4B;EAEhCC,YAAoBC,WAApB,EAAqDC,MAArD,EAA4EC,QAA5E,EAAiG;IAA7E;IAAiC;IAAuB;EAA0B;;EAEtGC,QAAQ;IACN,KAAKC,eAAL,GAAuB,KAAKJ,WAAL,CAAiBK,KAAjB,CAAuB;MAC5CC,QAAQ,EAAE,CAAC,EAAD,EAAKV,UAAU,CAACW,QAAhB,CADkC;MAG5CC,KAAK,EAAE,CAAC,EAAD,EAAKZ,UAAU,CAACW,QAAhB,EAAyBX,UAAU,CAACY,KAApC,CAHqC;MAI7CC,QAAQ,EAAE,CAAC,EAAD,EAAKb,UAAU,CAACW,QAAhB;IAJmC,CAAvB,CAAvB;EAOD,CAZ+B,CAalC;EACA;EACA;EACA;;;EACMG,KAAK;IAAA;;IAAA;MACT,MAAMC,SAAS,GAAyB,KAAI,CAACP,eAAL,CAAqBQ,KAA7D,CADS,CAET;;MACAC,OAAO,CAACC,GAAR,CAAY,KAAI,CAACV,eAAL,CAAqBQ,KAArB,CAA2BN,QAAvC;MACA,MAAM,KAAI,CAACJ,QAAL,CAAcQ,KAAd,CAAoB,KAAI,CAACN,eAAL,CAAqBQ,KAArB,CAA2BN,QAA/C,EAAwD,KAAI,CAACF,eAAL,CAAqBQ,KAArB,CAA2BH,QAAnF,EAA6FM,SAA7F,CAAyGC,QAAF,IAAoB;QAC/HH,OAAO,CAACC,GAAR,CAAYE,QAAQ,CAACC,YAArB;QACA,MAAMC,SAAS,GAAE,KAAI,CAACd,eAAL,CAAqBQ,KAArB,CAA2BN,QAA5C;QACA,MAAMa,KAAK,GAAGH,QAAQ,CAACC,YAAvB;QACCG,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BF,KAA7B;QACAC,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCH,SAAhC,EAL8H,CAM/H;QACA;QACA;MACD,CATK,CAAN;IAJS;EAeR;;AAhC+B;;;mBAArBpB,uBAAqBD;AAAA;;;QAArBC;EAAqBwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVlC7B,mCAAiF,CAAjF,EAAiF,KAAjF,EAAiF,CAAjF,EAAiF,CAAjF,EAAiF,KAAjF,EAAiF,CAAjF,EAAiF,CAAjF,EAAiF,KAAjF,EAAiF,CAAjF,EAAiF,CAAjF,EAAiF,KAAjF,EAAiF,CAAjF,EAAiF,CAAjF,EAAiF,KAAjF,EAAiF,CAAjF,EAAiF,CAAjF,EAAiF,KAAjF,EAAiF,CAAjF;MAOgBA;MAEFA;MACAA,+BAAyD,CAAzD,EAAyD,KAAzD,EAAyD,CAAzD,EAAyD,EAAzD,EAAyD,MAAzD,EAAyD,EAAzD,EAAyD,KAAzD,EAAyD,EAAzD,EAAyD,EAAzD,EAAyD,MAAzD,EAAyD,EAAzD;MAOsCA;MAAgBA;MAchDA;MAEgBA;MAGOA,uBAAI,EAAJ,EAAI,OAAJ,EAAI,EAAJ;MAIPA;MAIAA;MAEhBA,iCAAuB,EAAvB,EAAuB,QAAvB,EAAuB,EAAvB;MACiEA;QAAA,OAAS8B,WAAT;MAAgB,CAAhB;MAAkB9B;MAAKA;MAIxFA;MAAqDA;MAAuBA;MACzEA;MAAaA;;;;MAlBKA;MAAAA;MAOAA;MAAAA","names":["Validators","i0","CompanyLoginComponent","constructor","formBuilder","router","loginser","ngOnInit","personalDetails","group","username","required","email","password","login","loginUser","value","console","log","subscribe","response","access_token","user_name","token","localStorage","setItem","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\aitrich_project\\mod-c-managemnt\\mod-c-public\\src\\app\\company\\components\\company-login\\company-login.component.ts","D:\\aitrich_project\\mod-c-managemnt\\mod-c-public\\src\\app\\company\\components\\company-login\\company-login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Companyregistration } from '../../models/companyregistration';\nimport { LoginService } from '../../services/login.service';\n\n@Component({\n  selector: 'app-company-login',\n  templateUrl: './company-login.component.html',\n  styleUrls: ['./company-login.component.css']\n})\nexport class CompanyLoginComponent implements OnInit {\n  personalDetails!: FormGroup;\n  constructor(private formBuilder: FormBuilder,private router:Router, private loginser:LoginService) { }\n\n  ngOnInit(): void {\n    this.personalDetails = this.formBuilder.group({\n      username: ['', Validators.required],\n      \n      email: ['', Validators.required,Validators.email],\n     password: ['', Validators.required],\n\n  });\n  }\n// login(){\n//   console.log(this.personalDetails.value);\n//   this.router.navigate([\"dashboard\"]);\n// }\nasync login(){\n  const loginUser : Companyregistration = this.personalDetails.value;\n  // const loginUser : any = this.personalDetails.value;\n  console.log(this.personalDetails.value.username);\n  await this.loginser.login(this.personalDetails.value.username,this.personalDetails.value.password).subscribe(( response : any) => {\n    console.log(response.access_token);\n    const user_name= this.personalDetails.value.username;\n    const token = response.access_token;\n     localStorage.setItem('token',token)\n     localStorage.setItem('username',user_name)\n    // alert(\"login Successfully.\")\n    // this.router.navigate([\"public/login\"]);\n    // this.router.navigate(['private/dashboard'])\n  })\n  \n  }\n  \n}\n","\n<section  style=\"background: linear-gradient(to bottom right, #1B4F6C, #9DE2F2)\">\n    <div class=\"container py-5 \">\n      <div class=\"row d-flex justify-content-center align-items-center h-100\">\n        <div class=\"col col-xl-10\">\n          <div class=\"card\" style=\"border-radius: 1rem;\">\n            <div class=\"row g-0\">\n              <div class=\"col-md-6 col-lg-5  py-5 \">\n                <img src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp\"\n                  alt=\"login form\" class=\"img-fluid py-5\" style=\"border-radius: 1rem 0 0 1rem; \" />\n              </div>\n              <div class=\"col-md-6 col-lg-7 d-flex align-items-center\">\n                <div class=\"card-body p-4 p-lg-5 text-black\">\n  \n                  <form>\n  \n                    <div class=\"d-flex align-items-center mb-3 pb-1\">\n                      <!-- <i class=\"fas fa-cubes fa-2x me-3\" style=\"color: #ff6219;\"></i> -->\n                      <span class=\"h1 fw-bold mb-0\">MOD-C-Management</span>\n                    </div>\n  \n                    <!-- <h5 class=\"fw-normal mb-3 pb-3\" style=\"letter-spacing: 1px;\">Sign into your account</h5> -->\n<!--   \n                    <div class=\"form-outline mb-4\">\n                      <input type=\"email\" id=\"form2Example17\" class=\"form-control form-control-lg\" />\n                      <label class=\"form-label\" for=\"form2Example17\">Email address</label>\n                    </div>\n  \n                    <div class=\"form-outline mb-4\">\n                      <input type=\"password\" id=\"form2Example27\" class=\"form-control form-control-lg\" />\n                      <label class=\"form-label\" for=\"form2Example27\">Password</label>\n                    </div> -->\n                    <input type=\"text\" class=\"form-control\" formControlName=\"email\" name=\"email\"\n                                        placeholder=\"Email\" />\n                                    <span class=\"text-danger\"\n                                        *ngIf=\"personalDetails.controls['email'].touched && personalDetails.hasError('required','email')\">\n                                        *Email id is required\n                                    </span><br>\n\n                                    <input type=\"text\" class=\"form-control\" formControlName=\"password\" name=\"phone\"\n                                        placeholder=\"password\" />\n                                    <span class=\"text-danger\"\n                                        *ngIf=\"personalDetails.controls['password'].touched && personalDetails.hasError('required','password')\">\n                                        *password is required\n                                    </span>\n                                    <br>\n  \n                    <div class=\"pt-1 mb-4\">\n                      <button class=\"btn btn-primary btn-lg btn-block\" type=\"button\" (click)=\"login()\">Login</button>\n                    </div>\n  \n                    <!-- <a class=\"small text-muted\" href=\"#!\">Forgot password?</a> -->\n                    <p class=\"mb-5 pb-lg-2\" style=\"color: #393f81;\"> </p>Don't have an account? <a routerLink=\"/signup\" >\n                       Register here</a>\n                    <!-- <a href=\"#!\" class=\"small text-muted\">Terms of use.</a>\n                    <a href=\"#!\" class=\"small text-muted\">Privacy policy</a> -->\n                  </form>\n  \n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n"]},"metadata":{},"sourceType":"module"}