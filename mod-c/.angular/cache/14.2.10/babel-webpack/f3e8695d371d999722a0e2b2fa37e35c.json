{"ast":null,"code":"import _asyncToGenerator from \"D:/aitrich_project/mod-c-managemnt/mod-c-public/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet CompanyLoginComponent = class CompanyLoginComponent {\n  constructor(formBuilder, router, loginser) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.loginser = loginser;\n  }\n\n  ngOnInit() {\n    this.personalDetails = this.formBuilder.group({\n      username: ['', Validators.required],\n      email: ['', Validators.required, Validators.email],\n      password: ['', Validators.required]\n    });\n  } // login(){\n  //   console.log(this.personalDetails.value);\n  //   this.router.navigate([\"dashboard\"]);\n  // }\n\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const loginUser = _this.personalDetails.value; // const loginUser : any = this.personalDetails.value;\n\n      console.log(_this.personalDetails.value.username);\n      yield _this.lo.login(_this.personalDetails.value.username, _this.personalDetails.value.password).subscribe(response => {\n        console.log(response.access_token);\n        const user_name = _this.personalDetails.value.username;\n        const token = response.access_token;\n        localStorage.setItem('token', token);\n        localStorage.setItem('username', user_name); // alert(\"login Successfully.\")\n        // this.router.navigate([\"public/login\"]);\n\n        _this.router.navigate(['private/dashboard']);\n      });\n    })();\n  }\n\n};\nCompanyLoginComponent = __decorate([Component({\n  selector: 'app-company-login',\n  templateUrl: './company-login.component.html',\n  styleUrls: ['./company-login.component.css']\n})], CompanyLoginComponent);\nexport { CompanyLoginComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AACA,SAAiCC,UAAjC,QAAmD,gBAAnD;AASA,IAAaC,qBAAqB,GAAlC,MAAaA,qBAAb,CAAkC;EAEhCC,YAAoBC,WAApB,EAAqDC,MAArD,EAA4EC,QAA5E,EAAuF;IAAnE;IAAiC;IAAuB;EAAgB;;EAE5FC,QAAQ;IACN,KAAKC,eAAL,GAAuB,KAAKJ,WAAL,CAAiBK,KAAjB,CAAuB;MAC5CC,QAAQ,EAAE,CAAC,EAAD,EAAKT,UAAU,CAACU,QAAhB,CADkC;MAG5CC,KAAK,EAAE,CAAC,EAAD,EAAKX,UAAU,CAACU,QAAhB,EAAyBV,UAAU,CAACW,KAApC,CAHqC;MAI7CC,QAAQ,EAAE,CAAC,EAAD,EAAKZ,UAAU,CAACU,QAAhB;IAJmC,CAAvB,CAAvB;EAOD,CAZ+B,CAalC;EACA;EACA;EACA;;;EACMG,KAAK;IAAA;;IAAA;MACT,MAAMC,SAAS,GAAyB,KAAI,CAACP,eAAL,CAAqBQ,KAA7D,CADS,CAET;;MACAC,OAAO,CAACC,GAAR,CAAY,KAAI,CAACV,eAAL,CAAqBQ,KAArB,CAA2BN,QAAvC;MACA,MAAM,KAAI,CAACS,EAAL,CAAQL,KAAR,CAAc,KAAI,CAACN,eAAL,CAAqBQ,KAArB,CAA2BN,QAAzC,EAAkD,KAAI,CAACF,eAAL,CAAqBQ,KAArB,CAA2BH,QAA7E,EAAuFO,SAAvF,CAAmGC,QAAF,IAAoB;QACzHJ,OAAO,CAACC,GAAR,CAAYG,QAAQ,CAACC,YAArB;QACA,MAAMC,SAAS,GAAE,KAAI,CAACf,eAAL,CAAqBQ,KAArB,CAA2BN,QAA5C;QACA,MAAMc,KAAK,GAAGH,QAAQ,CAACC,YAAvB;QACCG,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BF,KAA7B;QACAC,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCH,SAAhC,EALwH,CAMzH;QACA;;QACA,KAAI,CAAClB,MAAL,CAAYsB,QAAZ,CAAqB,CAAC,mBAAD,CAArB;MACD,CATK,CAAN;IAJS;EAeR;;AAhC+B,CAAlC;AAAazB,qBAAqB,eALjCF,SAAS,CAAC;EACT4B,QAAQ,EAAE,mBADD;EAETC,WAAW,EAAE,gCAFJ;EAGTC,SAAS,EAAE,CAAC,+BAAD;AAHF,CAAD,CAKwB,GAArB5B,qBAAqB,CAArB;SAAAA","names":["Component","Validators","CompanyLoginComponent","constructor","formBuilder","router","loginser","ngOnInit","personalDetails","group","username","required","email","password","login","loginUser","value","console","log","lo","subscribe","response","access_token","user_name","token","localStorage","setItem","navigate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\aitrich_project\\mod-c-managemnt\\mod-c-public\\src\\app\\company\\components\\company-login\\company-login.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Companyregistration } from '../../models/companyregistration';\n\n@Component({\n  selector: 'app-company-login',\n  templateUrl: './company-login.component.html',\n  styleUrls: ['./company-login.component.css']\n})\nexport class CompanyLoginComponent implements OnInit {\n  personalDetails!: FormGroup;\n  constructor(private formBuilder: FormBuilder,private router:Router, private loginser:Lo) { }\n\n  ngOnInit(): void {\n    this.personalDetails = this.formBuilder.group({\n      username: ['', Validators.required],\n      \n      email: ['', Validators.required,Validators.email],\n     password: ['', Validators.required],\n\n  });\n  }\n// login(){\n//   console.log(this.personalDetails.value);\n//   this.router.navigate([\"dashboard\"]);\n// }\nasync login(){\n  const loginUser : Companyregistration = this.personalDetails.value;\n  // const loginUser : any = this.personalDetails.value;\n  console.log(this.personalDetails.value.username);\n  await this.lo.login(this.personalDetails.value.username,this.personalDetails.value.password).subscribe(( response : any) => {\n    console.log(response.access_token);\n    const user_name= this.personalDetails.value.username;\n    const token = response.access_token;\n     localStorage.setItem('token',token)\n     localStorage.setItem('username',user_name)\n    // alert(\"login Successfully.\")\n    // this.router.navigate([\"public/login\"]);\n    this.router.navigate(['private/dashboard'])\n  })\n  \n  }\n  \n}\n"]},"metadata":{},"sourceType":"module"}